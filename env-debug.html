<!DOCTYPE html>
<html>
<head>
    <title>Env Debug</title>
</head>
<body>
    <h1>Environment Variables Debug</h1>
    <div id="output"></div>
    <script type="module">
        const envVars = import.meta.env;
        const output = document.getElementById('output');

        const h2_1 = document.createElement('h2');
        h2_1.textContent = 'All VITE_ variables:';
        output.appendChild(h2_1);

        const pre1 = document.createElement('pre');
        pre1.textContent = JSON.stringify(
            Object.keys(envVars)
                .filter(k => k.startsWith('VITE_'))
                .reduce((obj, key) => {
                    obj[key] = key.includes('KEY') || key.includes('SECRET')
                        ? '[REDACTED]'
                        : envVars[key];
                    return obj;
                }, {}),
            null,
            2
        );
        output.appendChild(pre1);

        const h2_2 = document.createElement('h2');
        h2_2.textContent = 'Specific Supabase vars:';
        output.appendChild(h2_2);

        const pre2 = document.createElement('pre');
        pre2.textContent = 'VITE_SUPABASE_URL: ' + (envVars.VITE_SUPABASE_URL || 'NOT SET');
        output.appendChild(pre2);

        const pre3 = document.createElement('pre');
        pre3.textContent = 'VITE_SUPABASE_ANON_KEY: ' + (envVars.VITE_SUPABASE_ANON_KEY ? '[SET]' : 'NOT SET');
        output.appendChild(pre3);
    </script>
</body>
</html>
